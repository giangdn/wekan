@import 'nib'

.sidebar
  position: absolute
  top: 0
  bottom: 0
  right: 0

  .sidebar-shadow
    position: absolute
    top: 0
    bottom: 0
    right: 0
    left: 0
    // background: darken(white, 3%)
    background: #ffffff
    z-index: 26

  .sidebar-content
    padding: 16px
    margin-bottom: 1.6em
    position: absolute
    top: 0
    bottom: 0
    right: 0
    left: 0
    overflow-x: hidden
    overflow-y: auto
    .minicard-wrapper
      margin: 16px 0 8px

    .minicard
      box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 3px 0px, rgba(0, 0, 0, 0.14) 0px 1px 1px 0px, rgba(0, 0, 0, 0.12) 0px 2px 1px -1px

    .list-body
      padding: 8px
      margin: 0 -8px

      hr
        margin: 5px -14px

    .js-member-invite-accept,
    .js-member-invite-decline
      margin-bottom: 4px
      margin-right: 4px
      margin-top: 4px

    .js-hide-sidebar
      position: absolute
      right: 16px
      width: 32px
      height: 32px
      line-height: 32px
      text-align: center
      font-size: 26px

    h2
      margin-bottom: 16px
      vertical-align: middle
      width: 100%
      white-space: nowrap
      overflow: hidden
      text-overflow: ellipsis
      line-height: 32px


      .far, .fa, .fal
        margin-right: 8px
        vertical-align: middle

      .js-back-home
        font-size: 1.2em
        min-width: 16px
        padding: 0 8px 0 0

    .board-widget-members
      h2
        width: auto
        margin-right: 64px
      .board-header-btn
        width: 32px
        height: 32px
        line-height: 32px
        text-align: center
        font-size: 22px
        position: absolute
        right: 48px
        top: 16px
        i
          margin: 0
          line-height: 32px

    h3
      // color: darken(white, 50%)
      // font-size: 1em
      margin-bottom: 10px

      i.fa
        margin-right: 3px
      .board-header-btn-icon
        font-size: 1.2em

    hr
      margin: 32px -16px 8px
      width: auto

    ul.sidebar-list
      display: flex
      flex-direction: column

      li
        & > a
          display: flex
          min-height: 16px
          margin: 0
          padding: 4px 8px
          border-radius: 3px
          align-items: center
          transition: all 0.2s

          &:hover
            &, i, .quiet
              color white

          .member, .card-label
            margin-right: 7px
            margin-top: 5px

          .minicard-edit-button
            float: right
            padding: 8px
            border-radius: 3px

          .sidebar-list-item-description
            flex: 1
            overflow: ellipsis

          .far.fa-check
            margin: 0 4px

        .minicard
          padding: 6px 8px 4px

          .minicard-edit-button
            float: right
            padding: 4px
            border-radius: 3px

            &:hover
              background: #dbdbdb

    .sidebar-btn
      display: block
      margin: 5px 0
      padding: 10px
      border-radius: 3px
      background: darken(white, 10%)

      &:hover *
        color: white

      i.fa
        margin-right: 10px

  .sidebar-shortcuts
    margin: 0
    padding: 0
    top: auto
    text-align: center
    font-size: 0.8em
    line-height: 1.6em
    vertical-align: middle
    color: darken(white, 40%)

  .basicTabs-container .tabs-list .tab-item.active
    border-top-left-radius: 8px
    border-top-right-radius: 8px
    padding: 9px 12px !important
  .basicTabs-container .tabs-list .tab-item, .dynamicTabs-container .tabs-list .tab-item
    padding: 8px 12px

.board-subtask-settings
  .subtask-settings-list
    margin-bottom: 8px
    li
      padding: 4px 0
  div
    hr
      margin: 12px -10px

.board-sidebar
  width: 360px
  right: -@width
  transition: top .1s, right .1s, width .1s

  &.is-open
    right: 0
    .sidebar-shadow
      box-shadow: 0px 0px 8px 0px darken(white, 30%)

.board-widget h4
  margin: 5px 0

.board-widget-activity
  margin-right: -4px

.sidebar-tongue
  display: block
  width: 30px
  height: @width
  left: -@width
  position: absolute
  top: 0px
  z-index: 15
  background: darken(white, 3%)
  border-bottom-left-radius: 3px
  box-shadow: -4px 0px 7px -4px darken(white, 30%)
  color: darken(white, 50%)
  transition: left .1s

  i.fa
    padding: 3px 9px
    font-size: 24px
    transition: transform 0.5s

  .board-sidebar.is-open &
    left: -@width + 2px

    // XXX Bug: we should add a padding left
    &:hover
      left: -@width + 5px

    i.fa
      transform: rotate(180deg)

  &.is-hidden,
  .board-sidebar.is-open &.is-hidden
    z-index: 0
    left: 5px

.archived-lists .archived-lists-item
  .board-header-btns
    position: absolute;
    right: 4px;
    top: 50%;
    transform: translateY(-50%);
    button
      margin: auto

@media screen and (max-width: 800px)
  .board-sidebar
    width: 100%
    right: -@width
    .sidebar-shadow
      box-shadow: none
      .hide-btn
        display: block
        z-index: 15

        i.fa
          line-height: @width
          font-weight: bold

  .sidebar-tongue
    width: 40px
    height: @width
    left: -@width - 7px
    top: 5px
    display: block
    border-radius: 50%
    border: 1px solid darken(white, 30%)
    box-shadow: 0 1px 6px rgba(0, 0, 0, .3)
    color: darken(white, 50%)

    .board-sidebar.is-open &
      display: none

    i.fa
      padding: 8px 0px 8px 16px
      font-weight: bold

  .archive-board-confirm-wrapper
    padding: 12px
